(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{16:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/pizza.300d72e2.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/pasta.5c056c7e.jpg"},23:function(e,t,a){e.exports=a.p+"static/media/focaccia.3744b6d6.jpg"},24:function(e,t,a){e.exports=a.p+"static/media/antipasti.95e03e48.jpg"},25:function(e,t,a){e.exports=a.p+"static/media/tiramisu.d84bb0ab.jpg"},29:function(e,t,a){e.exports=a(42)},31:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(1),l=(a(31),a(3)),o=(a(16),a(21)),s=a.n(o),i=a(22),u=a.n(i),m=a(23),d=a.n(m),p=a(24),E=a.n(p),h=a(25),f=a.n(h),b=Object(n.createContext)(null),g=function(){var e=Object(n.useContext)(b),t=e.token,a=e.setProducts;return Object(n.useEffect)((function(){console.log(t),fetch("/products",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){a(e.products),console.log(e)}))}),[t]),c.a.createElement("div",{className:"products"},c.a.createElement(l.b,{to:"/products/Pizza"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:s.a,alt:"pizza",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pizza")))),c.a.createElement(l.b,{to:"/products/Pasta"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:u.a,alt:"pasta",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pasta")))),c.a.createElement(l.b,{to:"/products/Focaccia"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:d.a,alt:"focaccia",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Focaccia")))),c.a.createElement(l.b,{to:"/products/Antipasti"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:E.a,alt:"antipasti",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Antipasti")))),c.a.createElement(l.b,{to:"/products/Desserts"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:f.a,alt:"tiramisu",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Desserts")))))},v=a(7),O=a(8),j=a.n(O),N=a(12);function C(e){var t=Object(n.useContext)(b),a=t.setToken,l=t.client,o=t.setClient,s=(t.isLogged,t.setIsLogged,t.token,t.cookies),i=t.setCookies;console.log("cookies:"+s);var u=Object(n.useState)(null),m=Object(r.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(null),h=Object(r.a)(E,2),f=h[0],g=h[1],O=Object(n.useState)(null),C=Object(r.a)(O,2),S=C[0],y=C[1],x=Object(n.useState)(null),w=Object(r.a)(x,2),k=w[0],P=w[1],T=Object(n.useState)(null),z=Object(r.a)(T,2),A=z[0],L=z[1],D=Object(n.useState)(null),q=Object(r.a)(D,2),F=q[0],I=q[1],R=Object(n.useState)(null),J=Object(r.a)(R,2),H=J[0],Y=J[1],M=Object(n.useState)(!1),U=Object(r.a)(M,2),Z=(U[0],U[1],function(){var e=Object(N.a)(j.a.mark((function e(t){var n,c,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:d,lastName:f,email:S,password:k,phoneNumber:H,street:A,zipCode:F},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients",c);case 5:return r=e.sent,e.next=8,r.json();case 8:s=e.sent,console.log(s),s.success&&(a(s.token),o(s.client),i(!0)),console.log(l);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=function(){var e=Object(N.a)(j.a.mark((function e(t){var n,c,r,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:S,password:k},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients/login",c);case 5:return r=e.sent,e.next=8,r.json();case 8:l=e.sent,console.log(l),l.success&&(a(l.token),o(l.client),i(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"main-container"},s?c.a.createElement(v.a,{to:"/account"}):c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"signup-form"},c.a.createElement("h1",null,"Sign up for your order"),c.a.createElement("form",{onSubmit:Z,className:"signup"},c.a.createElement("label",null,"First Name:",c.a.createElement("input",{type:"text",id:"first-name",name:"firstName",onChange:function(e){return p(e.target.value)},required:!0})),c.a.createElement("label",null,"Last Name:",c.a.createElement("input",{type:"text",id:"last-name",name:"lastName",onChange:function(e){return g(e.target.value)},required:!0})),c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email",name:"email",onChange:function(e){return y(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("label",null,"Phone:",c.a.createElement("input",{type:"text",id:"phone",name:"phone",onChange:function(e){return Y(e.target.value)},required:!0})),c.a.createElement("label",null,"Street and Number:",c.a.createElement("input",{type:"text",id:"street",name:"street",onChange:function(e){return L(e.target.value)},required:!0})),c.a.createElement("label",null,"Zipcode:",c.a.createElement("input",{type:"text",id:"zipcode",name:"zipCode",onChange:function(e){return I(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Sign Up"))),c.a.createElement("div",{className:"login-form"},c.a.createElement("h1",null,"Log in if you have an account"),c.a.createElement("form",{onSubmit:_,className:"login"},c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email-login",name:"email",onChange:function(e){return y(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password-login",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Log In")))))}var S=a(14);function y(){var e=Object(n.useContext)(b),t=e.cart,a=e.setCart,r=(e.user,e.status),l=e.setStatus,o=e.client,s=(e.order,e.setOrder);console.log(t);var i=function(e){var n=Object(S.a)(t);n.splice(e,1),a(n)},u=t.reduce((function(e,t){return e+t.product.price}),0),m=function(){var e=Object(N.a)(j.a.mark((function e(n){var c,r,i,u,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=t.map((function(e){return e.id})),r={order:c,client:o._id},console.log(c),i={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)},e.next=7,fetch("/orders",i);case 7:return u=e.sent,e.next=10,u.json();case 10:m=e.sent,console.log(m),m.success&&(l(!0),s(m),a([]));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"container-products"},r?c.a.createElement(v.a,{to:"/checkout"}):c.a.createElement("div",{className:"container-products"},t&&t.map((function(e){return c.a.createElement("div",null,c.a.createElement("img",{src:e.product.img,alt:e.product.name,width:"200",height:"100"}),c.a.createElement("li",null,"Type: ",e.product.type),c.a.createElement("li",null,"Name: ",e.product.name),c.a.createElement("li",null,"Price: ",e.product.price,"\u20ac"),c.a.createElement("button",{onClick:i},"Remove"))})),t&&t.length>0?c.a.createElement("div",null,c.a.createElement("h1",null,"Total: ",u),c.a.createElement("button",{onClick:m},"CheckOut")):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE ADD THE DESIRED PRODUCTS TO THE CART"))))}a(38);function x(){var e=Object(n.useContext)(b),t=e.setCookies,a=e.cookies,r=e.client,l=e.order;console.log(r),console.log(l);return c.a.createElement("div",null,a?c.a.createElement("div",{className:"account"},c.a.createElement("h1",null,"Hi ",r.firstName),c.a.createElement("h2",null,"Your details"),c.a.createElement("h3",null,"Firstname: ",r.firstName),c.a.createElement("h3",null,"Lastname: ",r.lastName),c.a.createElement("h3",null,"Email: ",r.email),c.a.createElement("h3",null,"Address: ",r.street),c.a.createElement("h3",null,"Zipcode: ",r.zipCode),c.a.createElement("h3",null,"Your Orders: "),c.a.createElement("button",{onClick:function(){fetch("/clients/logout"),localStorage.clear("login"),t(!1)}},"logout")):c.a.createElement(v.a,{to:"/"}))}function w(e){var t=Object(n.useContext)(b),a=t.products,l=t.filteredProduct,o=t.setFilteredProduct,s=t.cart,i=t.setCart;t.client;console.log(e);var u=Object(n.useState)(1),m=Object(r.a)(u,2);m[0],m[1];Object(n.useEffect)((function(){!function(){var t=a&&a.filter((function(t){return t.type===e.match.params.name}));o(t),console.log(t)}()}),[]);return c.a.createElement("div",null,c.a.createElement("ul",{className:"container-products"},l&&l.length>0?l.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e.img,alt:e.name,width:"200",height:"100"}),c.a.createElement("li",null,e.type),c.a.createElement("li",null,e.name),c.a.createElement("li",null,e.price,"\u20ac"),c.a.createElement("button",{onClick:function(){!function(e){var t={id:e._id,product:e};i([].concat(Object(S.a)(s),[t])),alert("Added")}(e)}},"Add to Cart"))})):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE LOGIN FIRST OR CREATE AN ACCOUNT"))))}function k(){var e=Object(n.useContext)(b),t=(e.status,e.setStatus);return Object(n.useEffect)((function(){t(!1)})),c.a.createElement("div",{className:"checkout"},c.a.createElement("h1",null,"Thank you for your Purchase"))}var P=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(r.a)(d,2),E=p[0],h=p[1],f=Object(n.useState)([]),O=Object(r.a)(f,2),j=O[0],N=O[1],S=Object(n.useState)(!1),P=Object(r.a)(S,2),T=P[0],z=P[1],A=Object(n.useState)(0),L=Object(r.a)(A,2),D=L[0],q=L[1],F=Object(n.useState)(null),I=Object(r.a)(F,2),R=I[0],J=I[1],H=Object(n.useState)(!1),Y=Object(r.a)(H,2),M=Y[0],U=Y[1],Z=Object(n.useState)(!1),_=Object(r.a)(Z,2),B=_[0],G=_[1],Q=Object(n.useState)([]),K=Object(r.a)(Q,2),V=K[0],W=K[1];return Object(n.useEffect)((function(){localStorage.getItem("login")&&U(!0)}),[]),c.a.createElement(b.Provider,{value:{order:V,setOrder:W,status:B,setStatus:G,setCookies:U,cookies:M,isLogged:T,setIsLogged:z,client:R,setClient:J,token:a,setToken:o,products:u,setProducts:m,cart:j,setCart:N,filteredProduct:E,setFilteredProduct:h,total:D,setTotal:q}},c.a.createElement(l.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",null,c.a.createElement("span",{className:"green"},"Quel")," ",c.a.createElement("span",{className:"white"},"Mazzolin di")," ",c.a.createElement("span",{className:"red"},"Fiori")),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(l.c,{activeStyle:{color:"white"},to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(l.c,{activeStyle:{color:"white"},to:"/products"},"Products")),c.a.createElement("li",null,c.a.createElement(l.c,{activeStyle:{color:"white"},to:"/cart"},"Your Cart")),c.a.createElement("li",null,c.a.createElement(l.c,{activeStyle:{color:"white"},to:"/account"},"Your Account"))))),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/",component:C}),c.a.createElement(v.b,{exact:!0,path:"/products",component:g}),c.a.createElement(v.b,{exact:!0,path:"/products/:name",component:w}),c.a.createElement(v.b,{exact:!0,path:"/cart",component:y}),c.a.createElement(v.b,{exact:!0,path:"/account",component:x}),c.a.createElement(v.b,{exact:!0,path:"/checkout",component:k})))))},T=a(28);a.n(T).a.render(c.a.createElement(P,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.30cd41dc.chunk.js.map