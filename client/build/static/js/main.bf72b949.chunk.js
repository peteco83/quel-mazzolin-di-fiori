(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{19:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/pizza.300d72e2.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/pasta.5c056c7e.jpg"},23:function(e,t,a){e.exports=a.p+"static/media/focaccia.3744b6d6.jpg"},24:function(e,t,a){e.exports=a.p+"static/media/antipasti.95e03e48.jpg"},25:function(e,t,a){e.exports=a.p+"static/media/tiramisu.d84bb0ab.jpg"},29:function(e,t,a){e.exports=a(42)},31:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(1),r=(a(31),a(3)),o=(a(19),a(21)),i=a.n(o),u=a(22),s=a.n(u),m=a(23),d=a.n(m),p=a(24),E=a.n(p),g=a(25),b=a.n(g),f=Object(n.createContext)(null),h=function(){var e=Object(n.useContext)(f),t=e.token,a=e.setProducts;return Object(n.useEffect)((function(){console.log(t),fetch("/products",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){a(e.products),console.log(e)}))}),[t]),c.a.createElement("div",{className:"products"},c.a.createElement(r.b,{to:"/products/Pizza"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:i.a,alt:"pizza",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pizza")))),c.a.createElement(r.b,{to:"/products/Pasta"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:s.a,alt:"pasta",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pasta")))),c.a.createElement(r.b,{to:"/products/Focaccia"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:d.a,alt:"focaccia",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Focaccia")))),c.a.createElement(r.b,{to:"/products/Antipasti"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:E.a,alt:"antipasti",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Antipasti")))),c.a.createElement(r.b,{to:"/products/Desserts"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:b.a,alt:"tiramisu",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Desserts")))))},v=a(7),j=a(11),O=a.n(j),N=a(17);function C(e){var t=Object(n.useContext)(f),a=t.setToken,r=t.client,o=t.setClient,i=(t.isLogged,t.setIsLogged,t.token,t.cookies),u=t.setCookies;console.log("cookies:"+i);var s=Object(n.useState)(null),m=Object(l.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(null),g=Object(l.a)(E,2),b=g[0],h=g[1],j=Object(n.useState)(null),C=Object(l.a)(j,2),y=C[0],S=C[1],x=Object(n.useState)(null),w=Object(l.a)(x,2),k=w[0],P=w[1],q=Object(n.useState)(null),T=Object(l.a)(q,2),z=T[0],A=T[1],I=Object(n.useState)(null),L=Object(l.a)(I,2),D=L[0],F=L[1],R=Object(n.useState)(null),H=Object(l.a)(R,2),J=H[0],M=H[1],Q=Object(n.useState)(!1),U=Object(l.a)(Q,2),Y=(U[0],U[1],function(){var e=Object(N.a)(O.a.mark((function e(t){var n,c,l,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:d,lastName:b,email:y,password:k,phoneNumber:J,street:z,zipCode:D},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients",c);case 5:return l=e.sent,e.next=8,l.json();case 8:i=e.sent,console.log(i),i.success&&(a(i.token),o(i.client),localStorage.setItem("login",!0),u(!0)),console.log(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=function(){var e=Object(N.a)(O.a.mark((function e(t){var n,c,l,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:y,password:k},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients/login",c);case 5:return l=e.sent,e.next=8,l.json();case 8:r=e.sent,console.log(r),r.success&&(a(r.token),o(r.client),localStorage.setItem("login",!0),u(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"main-container"},i?c.a.createElement(v.a,{to:"/products"}):c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"signup-form"},c.a.createElement("h1",null,"Sign up for your order"),c.a.createElement("form",{onSubmit:Y,className:"signup"},c.a.createElement("label",null,"First Name:",c.a.createElement("input",{type:"text",id:"first-name",name:"firstName",onChange:function(e){return p(e.target.value)},required:!0})),c.a.createElement("label",null,"Last Name:",c.a.createElement("input",{type:"text",id:"last-name",name:"lastName",onChange:function(e){return h(e.target.value)},required:!0})),c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email",name:"email",onChange:function(e){return S(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("label",null,"Phone:",c.a.createElement("input",{type:"text",id:"phone",name:"phone",onChange:function(e){return M(e.target.value)},required:!0})),c.a.createElement("label",null,"Street and Number:",c.a.createElement("input",{type:"text",id:"street",name:"street",onChange:function(e){return A(e.target.value)},required:!0})),c.a.createElement("label",null,"Zipcode:",c.a.createElement("input",{type:"text",id:"zipcode",name:"zipCode",onChange:function(e){return F(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Sign Up"))),c.a.createElement("div",{className:"login-form"},c.a.createElement("h1",null,"Log in if you have an account"),c.a.createElement("form",{onSubmit:B,className:"login"},c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email-login",name:"email",onChange:function(e){return S(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password-login",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Log In")))))}var y=a(13);function S(){var e=Object(n.useContext)(f),t=e.cart,a=e.setCart;e.user;console.log(t);var l=function(e){var n=Object(y.a)(t);n.splice(e,1),a(n)},r=t.reduce((function(e,t){return e+t.product.price*t.quantity}),0);return c.a.createElement("div",{className:"container-products"},t&&t.map((function(e){return c.a.createElement("div",null,c.a.createElement("img",{src:e.product.img,alt:e.product.name,width:"200",height:"100"}),c.a.createElement("li",null,"Type: ",e.product.type),c.a.createElement("li",null,"Name: ",e.product.name),c.a.createElement("li",null,"Price: ",e.product.price,"\u20ac"),c.a.createElement("li",null,"Quantity: ",e.quantity),c.a.createElement("button",{onClick:l},"Remove"))})),t&&t.length>0?c.a.createElement("h1",null,"Total: ",r):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE ADD THE DESIRED PRODUCTS TO THE CART")))}a(38);function x(){var e=Object(n.useContext)(f),t=e.setCookies,a=e.cookies,l=e.client;console.log(l);return c.a.createElement("div",null,a?c.a.createElement("div",{className:"account"},c.a.createElement("h1",null,"Hi ",l.firstName),c.a.createElement("button",{onClick:function(){fetch("/clients/logout"),localStorage.clear("login"),t(!1)}},"logout")):c.a.createElement(v.a,{to:"/"}))}function w(e){var t=Object(n.useContext)(f),a=t.products,r=t.filteredProduct,o=t.setFilteredProduct,i=t.cart,u=t.setCart;console.log(e);var s=Object(n.useState)(1),m=Object(l.a)(s,2),d=m[0],p=m[1];Object(n.useEffect)((function(){!function(){var t=a&&a.filter((function(t){return t.type===e.match.params.name}));o(t),console.log(t)}()}),[]);return c.a.createElement("div",null,c.a.createElement("ul",{className:"container-products"},r&&r.length>0?r.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e.img,alt:e.name,width:"200",height:"100"}),c.a.createElement("li",null,e.type),c.a.createElement("li",null,e.name),c.a.createElement("li",null,e.price,"\u20ac"),c.a.createElement("li",null,"Quantity: ",c.a.createElement("input",{type:"number",id:"quantity",name:"quantity",onChange:function(e){return p(e.target.value)},required:!0})),c.a.createElement("button",{onClick:function(){!function(e){var t={quantity:d,id:e._id,product:e};u([].concat(Object(y.a)(i),[t])),alert("Added")}(e)}},"Add to Cart"))})):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE LOGIN FIRST OR CREATE AN ACCOUNT"))))}var k=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)([]),p=Object(l.a)(d,2),E=p[0],g=p[1],b=Object(n.useState)([]),j=Object(l.a)(b,2),O=j[0],N=j[1],y=Object(n.useState)(!1),k=Object(l.a)(y,2),P=k[0],q=k[1],T=Object(n.useState)(0),z=Object(l.a)(T,2),A=z[0],I=z[1],L=Object(n.useState)(null),D=Object(l.a)(L,2),F=D[0],R=D[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),M=J[0],Q=J[1];return Object(n.useEffect)((function(){localStorage.getItem("login")&&Q(!0)}),[]),c.a.createElement(f.Provider,{value:{setCookies:Q,cookies:M,isLogged:P,setIsLogged:q,client:F,setClient:R,token:a,setToken:o,products:s,setProducts:m,cart:O,setCart:N,filteredProduct:E,setFilteredProduct:g,total:A,setTotal:I}},c.a.createElement(r.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",null,c.a.createElement("span",{className:"green"},"Quel")," ",c.a.createElement("span",{className:"white"},"Mazzolin di")," ",c.a.createElement("span",{className:"red"},"Fiori")),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/products"},"Products")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/cart"},"Your Cart")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/account"},"Your Account"))))),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/",component:C}),c.a.createElement(v.b,{exact:!0,path:"/products",component:h}),c.a.createElement(v.b,{exact:!0,path:"/products/:name",component:w}),c.a.createElement(v.b,{exact:!0,path:"/cart",component:S}),c.a.createElement(v.b,{exact:!0,path:"/account",component:x})))))},P=a(28);a.n(P).a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.bf72b949.chunk.js.map