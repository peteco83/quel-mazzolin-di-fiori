(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{25:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/pizza.287b4101.jpg"},31:function(e,t,a){e.exports=a.p+"static/media/pasta.5c056c7e.jpg"},32:function(e,t,a){e.exports=a.p+"static/media/focaccia.3744b6d6.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/antipasti.95e03e48.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/tiramisu.d84bb0ab.jpg"},40:function(e,t,a){e.exports=a(60)},42:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(2),r=(a(42),a(3)),o=(a(25),a(30)),s=a.n(o),i=a(31),u=a.n(i),m=a(32),d=a.n(m),p=a(33),E=a.n(p),h=a(34),f=a.n(h),b=a(10),g=a.n(b),v=Object(n.createContext)(null),j=function(){var e=Object(n.useContext)(v),t=e.token,a=e.setProducts;return Object(n.useEffect)((function(){console.log(t),fetch("/products",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){a(e.products),console.log(e)}))}),[t]),c.a.createElement("div",{className:"products"},c.a.createElement(g.a,{top:!0},c.a.createElement("div",{className:"container-component-products"},c.a.createElement(r.b,{to:"/products/Pizza"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:s.a,alt:"pizza",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pizza")))),c.a.createElement(r.b,{to:"/products/Pasta"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:u.a,alt:"pasta",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pasta")))),c.a.createElement(r.b,{to:"/products/Focaccia"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:d.a,alt:"focaccia",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Focaccia")))),c.a.createElement(r.b,{to:"/products/Antipasti"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:E.a,alt:"antipasti",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Antipasti")))),c.a.createElement(r.b,{to:"/products/Desserts"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:f.a,alt:"tiramisu",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Desserts")))))))},O=a(9);a(48);function N(){var e=Object(n.useContext)(v),t=e.client,a=e.setClient,l=e.cookies;return console.log("cookies:"+l),Object(n.useEffect)((function(){var e=localStorage.getItem("id");e&&fetch("/clients/".concat(e)).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.client)}))}),[]),console.log(t,"from Homepage"),c.a.createElement("div",{className:"main-container"},l?c.a.createElement("div",{className:"home-main"},c.a.createElement(g.a,{top:!0},c.a.createElement("div",{className:"home-container"},c.a.createElement("h1",null,"Benvenuti in Italia"),c.a.createElement("h1",null,'Benvenuti al Ristorante "Quel Mazzolin di Fiori"')))):c.a.createElement("div",{className:"home-main"},c.a.createElement(g.a,{top:!0},c.a.createElement("div",{className:"home-container"},c.a.createElement("h1",null,"Benvenuti in Italia"),c.a.createElement("h1",null,'Benvenuti al Ristorante "Quel Mazzolin di Fiori"'),c.a.createElement("h2",null,"Please register or login to make your order")))))}var C=a(8),k=a.n(C),S=a(12),y=a(17);a(50);function x(){var e=Object(n.useContext)(v),t=e.cart,a=e.setCart,l=(e.user,e.status),r=e.setStatus,o=e.client,s=(e.order,e.setOrder);console.log(t);var i=function(e){var n=Object(y.a)(t);n.splice(e,1),a(n)},u=t.reduce((function(e,t){return e+t.product.price}),0),m=function(){var e=Object(S.a)(k.a.mark((function e(n){var c,l,i,u,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=t.map((function(e){return e.id})),l={order:c,client:o._id},console.log(c),i={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)},e.next=7,fetch("/orders",i);case 7:return u=e.sent,e.next=10,u.json();case 10:m=e.sent,console.log(m),m.success&&(r(!0),s(m),a([]));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"cart"},l?c.a.createElement(O.a,{to:"/checkout"}):c.a.createElement("ul",{className:"container-cart"},t?t.map((function(e){return c.a.createElement("div",{className:"product-card"},c.a.createElement("img",{src:e.product.img,alt:e.product.name,width:"200",height:"100"}),c.a.createElement("li",null,"Type: ",e.product.type),c.a.createElement("li",null,"Name: ",e.product.name),c.a.createElement("li",null,"Price: ",e.product.price,"\u20ac"),c.a.createElement("button",{onClick:i},"Remove"))})):c.a.createElement("h1",null,"Add your desired product first")),t&&t.length>0?c.a.createElement("div",{className:"total"},c.a.createElement("h1",null,"Total: ",u," \u20ac"),c.a.createElement("button",{onClick:m},"CheckOut")):null)}a(28);function w(){var e=Object(n.useContext)(v),t=(e.setCookies,e.cookies),a=e.client,r=e.order,o=(e.setClient,e.logout,Object(n.useState)([])),s=Object(l.a)(o,2);s[0],s[1];return console.log(a,"from account"),console.log(r),c.a.createElement("div",{className:"account-container"},t?c.a.createElement(g.a,{top:!0},c.a.createElement("div",{className:"account"},c.a.createElement("h1",null,"Hi ",a.firstName),c.a.createElement("h2",null,"Your details"),c.a.createElement("div",{className:"account-info"},c.a.createElement("h3",null,"Firstname: ",a.firstName),c.a.createElement("h3",null,"Lastname: ",a.lastName)),c.a.createElement("div",{className:"account-info"},c.a.createElement("h3",null,"Email:"),c.a.createElement("h3",null,a.email)),c.a.createElement("div",{className:"account-info"},c.a.createElement("h3",null,"Address: ",a.street),c.a.createElement("h3",null,"Zipcode: ",a.zipCode)),c.a.createElement("h3",{className:"orders"},"Your Orders:"))):null)}a(51);function P(e){var t=Object(n.useContext)(v),a=t.products,r=t.filteredProduct,o=t.setFilteredProduct,s=t.cart,i=t.setCart,u=(t.client,t.cookies);console.log(e);var m=Object(n.useState)(1),d=Object(l.a)(m,2);d[0],d[1];Object(n.useEffect)((function(){!function(){var t=a&&a.filter((function(t){return t.type===e.match.params.name}));o(t),console.log(t)}()}),[]);return c.a.createElement("div",{className:"eachproduct"},u?c.a.createElement("ul",{className:"container-products"},r&&r.length>0?r.map((function(e,t){return c.a.createElement("div",{key:t,className:"product-card"},c.a.createElement("img",{src:e.img,alt:e.name,width:"200",height:"100"}),c.a.createElement("li",null,"Type: ",e.type),c.a.createElement("li",null,"Name: ",e.name),c.a.createElement("li",null,"Price: ",e.price," \u20ac"),c.a.createElement("button",{onClick:function(){!function(e){var t={id:e._id,product:e};i([].concat(Object(y.a)(s),[t])),alert("Added")}(e)}},"Add to Cart"))})):null):c.a.createElement("h1",null,"Please Login or Register to make your order"))}function z(){var e=Object(n.useContext)(v),t=(e.status,e.setStatus);return Object(n.useEffect)((function(){t(!1)})),c.a.createElement("div",{className:"checkout"},c.a.createElement("h1",null,"Thank you for your Purchase"))}function A(){var e=Object(n.useContext)(v),t=e.token,a=(e.logout,e.cookies),l=e.client;console.log(l,"from admin");return c.a.createElement("div",{className:"admin"},a?c.a.createElement("div",null,c.a.createElement("h1",null,"Get all Clients"),c.a.createElement("button",{onClick:function(){fetch("/clients",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},"Get all clients"),c.a.createElement("h1",null,"Get all Orders"),c.a.createElement("button",{onClick:function(){fetch("/orders",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},"Get all orders"),c.a.createElement("button",null,"Add a Product")):null)}var T=a(16),I=a.n(T),q=(a(29),function(){var e=Object(n.useContext)(v),t=e.setToken,a=e.client,r=e.setClient,o=e.cookies,s=e.setCookies;console.log("cookies:"+o);var i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(null),E=Object(l.a)(p,2),h=E[0],f=E[1],b=Object(n.useState)(!0),g=Object(l.a)(b,2),j=g[0],N=g[1],C=function(){var e=Object(S.a)(k.a.mark((function e(a){var n,c,l,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={email:m,password:h},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients/login",c);case 5:return l=e.sent,e.next=8,l.json();case 8:o=e.sent,console.log(o,"This is data login"),o.success?(t(o.token),r(o.client),localStorage.setItem("login",!0),localStorage.setItem("id",o.client._id),s(!0),N(!0)):N(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"form-container"},o&&a&&"Admin"===a.role?c.a.createElement(O.a,{to:"/admin"}):null,o&&a&&"User"===a.role?c.a.createElement(O.a,{to:"/account"}):null,c.a.createElement(I.a,null,c.a.createElement("div",{className:"login-form"},c.a.createElement("h1",null,"Log in"),c.a.createElement("h4",null,"Please log in to make your order"),c.a.createElement("form",{onSubmit:C,className:"login"},c.a.createElement("input",{type:"email",placeholder:"Your Email",id:"email-login",name:"email",onChange:function(e){return d(e.target.value)},required:!0}),c.a.createElement("input",{type:"password",id:"password-login",name:"password",onChange:function(e){return f(e.target.value)},required:!0}),c.a.createElement("button",{type:"submit"},"Log In"),j?null:c.a.createElement("p",null,"Wrong email or wrong password")))))});function L(){var e=Object(n.useContext)(v),t=e.setToken,a=e.client,r=e.setClient,o=e.cookies,s=e.setCookies;console.log("cookies:"+o);var i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(null),E=Object(l.a)(p,2),h=E[0],f=E[1],b=Object(n.useState)(null),g=Object(l.a)(b,2),j=g[0],N=g[1],C=Object(n.useState)(null),y=Object(l.a)(C,2),x=y[0],w=y[1],P=Object(n.useState)(null),z=Object(l.a)(P,2),A=z[0],T=z[1],q=Object(n.useState)(null),L=Object(l.a)(q,2),F=L[0],Y=L[1],B=Object(n.useState)(null),D=Object(l.a)(B,2),J=D[0],M=D[1],R=Object(n.useState)(!0),G=Object(l.a)(R,2),Q=G[0],U=G[1],_=Object(n.useState)(""),H=Object(l.a)(_,2),W=H[0],Z=H[1],K=Object(n.useState)(""),V=Object(l.a)(K,2),X=V[0],$=V[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),le=Object(l.a)(ce,2),re=(le[0],le[1],function(){var e=Object(S.a)(k.a.mark((function e(a){var n,c,l,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={firstName:m,lastName:h,email:j,password:x,phoneNumber:J,street:A,zipCode:F},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients",c);case 5:return l=e.sent,e.next=8,l.json();case 8:o=e.sent,console.log(o,"This is data signup"),o.success&&(t(o.token),r(o.client),localStorage.setItem("login",!0),localStorage.setItem("id",o.client._id),s(!0),U(!0)),o.message&&(U(!1),$(null),ne(null),o.message.map((function(e){e.email&&Z(e.email),e.password&&$(e.password)}))),o.err&&(U(!1),$(null),Z(null),ne(o.err));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return c.a.createElement("div",{className:"form-container"},o&&a&&"Admin"===a.role?c.a.createElement(O.a,{to:"/admin"}):null,o&&a&&"User"===a.role?c.a.createElement(O.a,{to:"/account"}):null,c.a.createElement(I.a,null,c.a.createElement("div",{className:"signup-form"},c.a.createElement("h1",null,"Sign up"),c.a.createElement("h4",null,"Create an account to make ",c.a.createElement("br",null),"your order"),c.a.createElement("form",{onSubmit:re,className:"login"},c.a.createElement("input",{type:"text",id:"first-name",name:"firstName",placeholder:"First name",onChange:function(e){return d(e.target.value)},required:!0}),c.a.createElement("input",{type:"text",id:"last-name",name:"lastName",placeholder:"Last name",onChange:function(e){return f(e.target.value)},required:!0}),c.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Email",onChange:function(e){return N(e.target.value)},required:!0}),!Q&&W?c.a.createElement("p",null,W):null,!Q&&ae?c.a.createElement("p",null,"E-mail already exists"):null,c.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)},required:!0}),!Q&&X?c.a.createElement("p",null,X):null,c.a.createElement("input",{type:"text",id:"phone",name:"phone",placeholder:"Telephone number",onChange:function(e){return M(e.target.value)},required:!0}),c.a.createElement("input",{type:"text",id:"street",name:"street",placeholder:"Your Adress",onChange:function(e){return T(e.target.value)},required:!0}),c.a.createElement("input",{type:"text",id:"zipcode",name:"zipCode",placeholder:"Zip Code",onChange:function(e){return Y(e.target.value)},required:!0}),c.a.createElement("button",{type:"submit"},"Sign Up")))))}a(52);function F(){return c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"login-form"},c.a.createElement("h1",null,"Contact us!!"),c.a.createElement("h4",null,"If you have any issue or any ",c.a.createElement("br",null),"question please send us an email"),c.a.createElement("form",{className:"login"},c.a.createElement("input",{type:"text",placeholder:"Your Name",name:"name"}),c.a.createElement("input",{type:"mail",placeholder:"Your Email",name:"email"}),c.a.createElement("textarea",{name:"message",placeholder:"Your Message",cols:"0",rows:"10"}),c.a.createElement("button",{type:"submit"},"Send"))))}a(53);var Y=a(22),B=a(38),D=a(37);var J=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(l.a)(d,2),E=p[0],h=p[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),g=b[0],C=b[1],k=Object(n.useState)(!1),S=Object(l.a)(k,2),y=S[0],T=S[1],I=Object(n.useState)(0),J=Object(l.a)(I,2),M=J[0],R=J[1],G=Object(n.useState)(null),Q=Object(l.a)(G,2),U=Q[0],_=Q[1],H=Object(n.useState)(!1),W=Object(l.a)(H,2),Z=W[0],K=W[1],V=Object(n.useState)(!1),X=Object(l.a)(V,2),$=X[0],ee=X[1],te=Object(n.useState)([]),ae=Object(l.a)(te,2),ne=ae[0],ce=ae[1],le=Object(n.useState)(!1),re=Object(l.a)(le,2),oe=re[0],se=re[1],ie=Object(n.useState)(!1),ue=Object(l.a)(ie,2),me=ue[0],de=ue[1];Object(n.useEffect)((function(){localStorage.getItem("login")&&K(!0),fe()}),[]);var pe=function(){fetch("/clients/logout"),localStorage.clear(),K(!1)},Ee=function(){se(!oe)},he=function(){return se(!1)},fe=function(){window.innerWidth<=960?de(!0):de(!1)};return window.addEventListener("resize",fe),c.a.createElement(v.Provider,{value:{logout:pe,order:ne,setOrder:ce,status:$,setStatus:ee,setCookies:K,cookies:Z,isLogged:y,setIsLogged:T,client:U,setClient:_,token:a,setToken:o,products:u,setProducts:m,cart:g,setCart:C,filteredProduct:E,setFilteredProduct:h,total:M,setTotal:R}},c.a.createElement(r.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("div",{className:"main-logo"},c.a.createElement(r.b,{className:"logo-link",to:"/",onClick:Ee},c.a.createElement("h1",{className:"logo"},"Quel Mazzolin di Fiori")),me?c.a.createElement(r.b,{className:"menu-icon",onClick:Ee},c.a.createElement(Y.a,{className:oe?"icon-rotate":"icon",icon:D.a})):null),c.a.createElement("nav",{className:"nav-options"},c.a.createElement("ul",{className:oe?"nav-menu active":"nav-menu"},Z?c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/products",onClick:he},"Products")):null,Z&&U&&"User"===U.role?c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/account",onClick:he},"Your Account")):null,Z?c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/cart",onClick:he},"Your Cart")):null,Z&&U&&"Admin"===U.role?c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/admin",onClick:he},"Admin")):null,Z?null:c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/login",onClick:he},"Login")),Z?null:c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",to:"/register",onClick:he},"Register")),Z?c.a.createElement("li",null,c.a.createElement(r.b,{className:"link",onClick:pe,to:"/"},"Logout")):null))),c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"footer-content"},c.a.createElement("h2",{className:"logo"},"Quel Mazzolin di fiori"),c.a.createElement("h2",{className:"year"},"2020"),c.a.createElement("div",{className:"contact-and-icon"},c.a.createElement(Y.a,{className:"comment",icon:B.a}),c.a.createElement("h2",null,c.a.createElement(r.b,{className:"link",to:"/contact"},"Contact"))))),c.a.createElement(O.d,null,c.a.createElement(O.b,{exact:!0,path:"/",component:N}),c.a.createElement(O.b,{exact:!0,path:"/products",component:j}),c.a.createElement(O.b,{exact:!0,path:"/products/:name",component:P}),c.a.createElement(O.b,{exact:!0,path:"/cart",component:x}),c.a.createElement(O.b,{exact:!0,path:"/account",component:w}),c.a.createElement(O.b,{exact:!0,path:"/checkout",component:z}),c.a.createElement(O.b,{exact:!0,path:"/admin",component:A}),c.a.createElement(O.b,{exact:!0,path:"/login",component:q}),c.a.createElement(O.b,{exact:!0,path:"/register",component:L}),c.a.createElement(O.b,{exact:!0,path:"/contact",component:F})))))},M=a(39);a.n(M).a.render(c.a.createElement(J,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.9860825a.chunk.js.map