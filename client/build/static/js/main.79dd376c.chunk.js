(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{16:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){e.exports=a.p+"static/media/pizza.300d72e2.jpg"},23:function(e,t,a){e.exports=a.p+"static/media/pasta.5c056c7e.jpg"},24:function(e,t,a){e.exports=a.p+"static/media/focaccia.3744b6d6.jpg"},25:function(e,t,a){e.exports=a.p+"static/media/antipasti.95e03e48.jpg"},26:function(e,t,a){e.exports=a.p+"static/media/tiramisu.d84bb0ab.jpg"},30:function(e,t,a){e.exports=a(42)},32:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(1),r=(a(32),a(3)),o=(a(16),a(22)),s=a.n(o),i=a(23),u=a.n(i),m=a(24),d=a.n(m),p=a(25),E=a.n(p),h=a(26),f=a.n(h),b=Object(n.createContext)(null),g=function(){var e=Object(n.useContext)(b),t=e.token,a=e.setProducts;return Object(n.useEffect)((function(){console.log(t),fetch("/products",{headers:{"content-type":"application/json","x-auth":t}}).then((function(e){return e.json()})).then((function(e){a(e.products),console.log(e)}))}),[t]),c.a.createElement("div",{className:"products"},c.a.createElement(r.b,{to:"/products/Pizza"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:s.a,alt:"pizza",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pizza")))),c.a.createElement(r.b,{to:"/products/Pasta"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:u.a,alt:"pasta",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Pasta")))),c.a.createElement(r.b,{to:"/products/Focaccia"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:d.a,alt:"focaccia",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Focaccia")))),c.a.createElement(r.b,{to:"/products/Antipasti"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:E.a,alt:"antipasti",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Antipasti")))),c.a.createElement(r.b,{to:"/products/Desserts"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:f.a,alt:"tiramisu",width:"300",height:"200"})),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Desserts")))))},v=a(7),j=a(8),O=a.n(j),N=a(12);function C(e){var t=Object(n.useContext)(b),a=t.setToken,r=t.client,o=t.setClient,s=(t.isLogged,t.setIsLogged,t.token,t.cookies),i=t.setCookies;console.log("cookies:"+s);var u=Object(n.useState)(null),m=Object(l.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(null),h=Object(l.a)(E,2),f=h[0],g=h[1],j=Object(n.useState)(null),C=Object(l.a)(j,2),S=C[0],y=C[1],x=Object(n.useState)(null),k=Object(l.a)(x,2),w=k[0],P=k[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),z=A[0],L=A[1],D=Object(n.useState)(null),q=Object(l.a)(D,2),F=q[0],I=q[1],R=Object(n.useState)(null),G=Object(l.a)(R,2),J=G[0],H=G[1],Y=Object(n.useState)(!1),M=Object(l.a)(Y,2),U=(M[0],M[1],function(){var e=Object(N.a)(O.a.mark((function e(t){var n,c,l,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:d,lastName:f,email:S,password:w,phoneNumber:J,street:z,zipCode:F},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients",c);case 5:return l=e.sent,e.next=8,l.json();case 8:s=e.sent,console.log(s),s.success&&(a(s.token),o(s.client),i(!0)),console.log(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=function(){var e=Object(N.a)(O.a.mark((function e(t){var n,c,l,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:S,password:w},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/clients/login",c);case 5:return l=e.sent,e.next=8,l.json();case 8:r=e.sent,console.log(r),r.success&&(a(r.token),o(r.client),i(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"main-container"},s&&"Admin"===r.role?c.a.createElement(v.a,{to:"/admin"}):null,s&&null===r.role?c.a.createElement(v.a,{to:"/account"}):c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"signup-form"},c.a.createElement("h1",null,"Sign up for your order"),c.a.createElement("form",{onSubmit:U,className:"signup"},c.a.createElement("label",null,"First Name:",c.a.createElement("input",{type:"text",id:"first-name",name:"firstName",onChange:function(e){return p(e.target.value)},required:!0})),c.a.createElement("label",null,"Last Name:",c.a.createElement("input",{type:"text",id:"last-name",name:"lastName",onChange:function(e){return g(e.target.value)},required:!0})),c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email",name:"email",onChange:function(e){return y(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("label",null,"Phone:",c.a.createElement("input",{type:"text",id:"phone",name:"phone",onChange:function(e){return H(e.target.value)},required:!0})),c.a.createElement("label",null,"Street and Number:",c.a.createElement("input",{type:"text",id:"street",name:"street",onChange:function(e){return L(e.target.value)},required:!0})),c.a.createElement("label",null,"Zipcode:",c.a.createElement("input",{type:"text",id:"zipcode",name:"zipCode",onChange:function(e){return I(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Sign Up"))),c.a.createElement("div",{className:"login-form"},c.a.createElement("h1",null,"Log in if you have an account"),c.a.createElement("form",{onSubmit:Z,className:"login"},c.a.createElement("label",null,"E-Mail:",c.a.createElement("input",{type:"email",id:"email-login",name:"email",onChange:function(e){return y(e.target.value)},required:!0})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{type:"password",id:"password-login",name:"password",onChange:function(e){return P(e.target.value)},required:!0})),c.a.createElement("button",{type:"submit"},"Log In")))))}var S=a(14);function y(){var e=Object(n.useContext)(b),t=e.cart,a=e.setCart,l=(e.user,e.status),r=e.setStatus,o=e.client,s=(e.order,e.setOrder);console.log(t);var i=function(e){var n=Object(S.a)(t);n.splice(e,1),a(n)},u=t.reduce((function(e,t){return e+t.product.price}),0),m=function(){var e=Object(N.a)(O.a.mark((function e(n){var c,l,i,u,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=t.map((function(e){return e.id})),l={order:c,client:o._id},console.log(c),i={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)},e.next=7,fetch("/orders",i);case 7:return u=e.sent,e.next=10,u.json();case 10:m=e.sent,console.log(m),m.success&&(r(!0),s(m),a([]));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"container-products"},l?c.a.createElement(v.a,{to:"/checkout"}):c.a.createElement("div",{className:"container-products"},t&&t.map((function(e){return c.a.createElement("div",null,c.a.createElement("img",{src:e.product.img,alt:e.product.name,width:"200",height:"100"}),c.a.createElement("li",null,"Type: ",e.product.type),c.a.createElement("li",null,"Name: ",e.product.name),c.a.createElement("li",null,"Price: ",e.product.price,"\u20ac"),c.a.createElement("button",{onClick:i},"Remove"))})),t&&t.length>0?c.a.createElement("div",null,c.a.createElement("h1",null,"Total: ",u),c.a.createElement("button",{onClick:m},"CheckOut")):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE ADD THE DESIRED PRODUCTS TO THE CART"))))}a(21);function x(){var e=Object(n.useContext)(b),t=e.setCookies,a=e.cookies,l=e.client,r=e.order;console.log(l),console.log(r);return c.a.createElement("div",null,a?c.a.createElement("div",{className:"account"},c.a.createElement("h1",null,"Hi ",l.firstName),c.a.createElement("h2",null,"Your details"),c.a.createElement("h3",null,"Firstname: ",l.firstName),c.a.createElement("h3",null,"Lastname: ",l.lastName),c.a.createElement("h3",null,"Email: ",l.email),c.a.createElement("h3",null,"Address: ",l.street),c.a.createElement("h3",null,"Zipcode: ",l.zipCode),c.a.createElement("h3",null,"Your Orders: "),c.a.createElement("button",{onClick:function(){fetch("/clients/logout"),localStorage.clear("login"),t(!1)}},"logout")):c.a.createElement(v.a,{to:"/"}))}function k(e){var t=Object(n.useContext)(b),a=t.products,r=t.filteredProduct,o=t.setFilteredProduct,s=t.cart,i=t.setCart;t.client;console.log(e);var u=Object(n.useState)(1),m=Object(l.a)(u,2);m[0],m[1];Object(n.useEffect)((function(){!function(){var t=a&&a.filter((function(t){return t.type===e.match.params.name}));o(t),console.log(t)}()}),[]);return c.a.createElement("div",null,c.a.createElement("ul",{className:"container-products"},r&&r.length>0?r.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e.img,alt:e.name,width:"200",height:"100"}),c.a.createElement("li",null,e.type),c.a.createElement("li",null,e.name),c.a.createElement("li",null,e.price,"\u20ac"),c.a.createElement("button",{onClick:function(){!function(e){var t={id:e._id,product:e};i([].concat(Object(S.a)(s),[t])),alert("Added")}(e)}},"Add to Cart"))})):c.a.createElement("div",null,c.a.createElement("h1",null,"PLEASE LOGIN FIRST OR CREATE AN ACCOUNT"))))}function w(){var e=Object(n.useContext)(b),t=(e.status,e.setStatus);return Object(n.useEffect)((function(){t(!1)})),c.a.createElement("div",{className:"checkout"},c.a.createElement("h1",null,"Thank you for your Purchase"))}function P(){var e=Object(n.useContext)(b).token;return c.a.createElement("div",{className:"admin"},c.a.createElement("h1",null,"Get all Clients"),c.a.createElement("button",{onClick:function(){fetch("/clients",{headers:{"content-type":"application/json","x-auth":e}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},"Get all clients"),c.a.createElement("h1",null,"Get all Orders"),c.a.createElement("button",{onClick:function(){fetch("/orders",{headers:{"content-type":"application/json","x-auth":e}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},"Get all orders"),c.a.createElement("button",null,"Add a Product"))}var T=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(l.a)(d,2),E=p[0],h=p[1],f=Object(n.useState)([]),j=Object(l.a)(f,2),O=j[0],N=j[1],S=Object(n.useState)(!1),T=Object(l.a)(S,2),A=T[0],z=T[1],L=Object(n.useState)(0),D=Object(l.a)(L,2),q=D[0],F=D[1],I=Object(n.useState)(null),R=Object(l.a)(I,2),G=R[0],J=R[1],H=Object(n.useState)(!1),Y=Object(l.a)(H,2),M=Y[0],U=Y[1],Z=Object(n.useState)(!1),_=Object(l.a)(Z,2),B=_[0],Q=_[1],K=Object(n.useState)([]),V=Object(l.a)(K,2),W=V[0],X=V[1];return Object(n.useEffect)((function(){localStorage.getItem("login")&&U(!0)}),[]),c.a.createElement(b.Provider,{value:{order:W,setOrder:X,status:B,setStatus:Q,setCookies:U,cookies:M,isLogged:A,setIsLogged:z,client:G,setClient:J,token:a,setToken:o,products:u,setProducts:m,cart:O,setCart:N,filteredProduct:E,setFilteredProduct:h,total:q,setTotal:F}},c.a.createElement(r.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",null,c.a.createElement("span",{className:"green"},"Quel")," ",c.a.createElement("span",{className:"white"},"Mazzolin di")," ",c.a.createElement("span",{className:"red"},"Fiori")),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/products"},"Products")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/cart"},"Your Cart")),c.a.createElement("li",null,c.a.createElement(r.c,{activeStyle:{color:"white"},to:"/account"},"Your Account"))))),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/",component:C}),c.a.createElement(v.b,{exact:!0,path:"/products",component:g}),c.a.createElement(v.b,{exact:!0,path:"/products/:name",component:k}),c.a.createElement(v.b,{exact:!0,path:"/cart",component:y}),c.a.createElement(v.b,{exact:!0,path:"/account",component:x}),c.a.createElement(v.b,{exact:!0,path:"/checkout",component:w}),c.a.createElement(v.b,{exact:!0,path:"/admin",component:P})))))},A=a(29);a.n(A).a.render(c.a.createElement(T,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.79dd376c.chunk.js.map